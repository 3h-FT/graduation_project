<%= content_for :title, "ユーザーページ" %>

<div class="max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-lg">
  <h2 class="text-center text-3xl font-semibold text-yellow-600 mb-8">
    <%= current_user.username %> さんのページ
  </h2>

  <h3 class="mt-6 text-center text-6xl font-semibold text-gray-700 mb-4">
    これまでに知ったワードの合計: <span class="text-pink-500"><%= @known_word_count %></span> 個
  </h3>

  <%= render 'search', q: @q %>

<button data-tab="all" class="tab-button py-2 px-10 font-semibold transition duration-300 ease-in-out focus:outline-none"
        data-default-class="bg-blue-100 text-gray-700 hover:bg-gray-200"
        aria-selected="<%= @active_tab == 'all' %>">
  すべて
</button>

<button data-tab="custom" class="tab-button py-2 px-10 font-semibold transition duration-300 ease-in-out focus:outline-none"
        data-default-class="bg-green-50 text-gray-700 hover:bg-green-200"
        aria-selected="<%= @active_tab == 'custom' %>">
  カスタム
</button>

<button data-tab="favorite" class="tab-button py-2 px-10 font-semibold transition duration-300 ease-in-out focus:outline-none"
        data-default-class="bg-yellow-100 text-gray-700 hover:bg-yellow-200"
        aria-selected="<%= @active_tab == 'favorite' %>">
  お気に入り
</button>

  <div data-tab-content="all" class="<%= 'hidden' unless @active_tab == 'all' %>">
    <%= render 'new' %>
    <% if @custom_words.present? %>
      <%= render 'custom_words_section', words: @custom_words_page %>
      <%= paginate @custom_words_page, param_name: :custom_page, params: { tab: 'all' } %>
    <% end %>

    <% if @favorited_words.present? %>
      <%= render 'favorited_words_section', words: @favorited_words_page %>
      <%= paginate @favorited_words_page, param_name: :favorited_page, params: { tab: 'all' } %>
    <% end %>

    <% if @custom_words.blank? && @favorited_words.blank? %>
      <p class="text-center text-lg text-gray-600 py-8">登録されたワードはありません</p>
    <% end %>
  </div>

  <div data-tab-content="custom" class="<%= 'hidden' unless @active_tab == 'custom' %>">
    <%= render 'new' %>
    <% if @custom_words.present? %>
      <%= render 'custom_words_section', words: @custom_words_page %>
      <%= paginate @custom_words_page, param_name: :custom_page, params: { tab: 'custom' } %>
    <% else %>
      <p class="text-center text-lg text-gray-600 py-8">カスタムワードはありません</p>
    <% end %>
  </div>

  <div data-tab-content="favorite" class="<%= 'hidden' unless @active_tab == 'favorite' %>">
    <% if @favorited_words.present? %>
      <%= render 'favorited_words_section', words: @favorited_words_page %>
      <%= paginate @favorited_words_page, param_name: :favorited_page, params: { tab: 'favorite' } %>
    <% else %>
      <p class="text-center text-lg text-gray-600 py-8">お気に入り登録はありません</p>
    <% end %>
  </div>

  <div class="mt-8 space-y-4">
    <%= link_to "トップページに戻る", root_path, class: 'block text-center text-lg font-semibold text-blue-500 hover:text-blue-700 hover:underline' %>
    <%= link_to "ポジティブワードを作ろう", new_ai_message_path, class: 'block text-center text-lg font-semibold text-blue-500 hover:text-blue-700 hover:underline' %>
    <%= link_to "ワードを投稿する", posts_path, class: 'block text-center text-lg font-semibold text-blue-500 hover:text-blue-700 hover:underline' %>
    <div class="flex justify-center space-x-4 mt-6">
      <%= link_to "アカウントを編集する", edit_user_registration_path, class: 'text-sm sm:text-base font-medium text-white bg-indigo-500 hover:bg-indigo-600 px-6 py-3 rounded-full shadow-md' %>
      <%= button_to "ログアウト", destroy_user_session_path, method: :delete, class: 'text-sm font-medium text-white bg-red-500 hover:bg-red-600 px-6 py-3 rounded-full shadow-md' %>
    </div>
  </div>
</div>
